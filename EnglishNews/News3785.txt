 (CNN)The ruler of Dubai Sheikh Mohammed bin Rashid al-Maktoum has been ordered to pay his ex-wife Princess Haya bint al-Hussein more than $728 million (£500 million), in one of the largest divorce settlements ever handed down by a UK court.The figure will be used to cover Princess Haya's security costs for the rest of her life, as well as ongoing costs for the couple's two children -- Al Jalila Bint Mohammed Bin Rashid Al Maktoum and Sheikh Zayed Bin Mohammed Bin Rashid Al Maktoum -- with an upfront payment of $333 (£251.5m) due in the next three months.There is no fixed value on the total settlement, as the court ruled that Sheikh Mohammed should pay the annual security costs for his two children, aged nine and 14, for the rest of their lives or until a further court order is issued. In his written judgement published Tuesday, Mr Justice Moor found that the biggest threat facing Princess Haya and her children Jalila and Zayed, is from "[Sheikh Mohammed] himself, not from outside sources."UK high court finds Dubai's Sheikh Mohammed hacked ex-wife's phone using spywareThe determination was made in reference to the Sheikh's "campaign" of intimidation inflicted on Princess Haya, including "his ability to make use of the Pegasus software, which is only available to governments," to spy on the Princess and her staff, a revelation which surfaced in court documents in October.Read MoreOther details about Sheikh Mohammed and Princess Haya's married life were disclosed in the written judgment, including evidence that the princess paid four security staff some £6.7 million ($8.8 million) in blackmail money to stay silent over an affair she had with one of them. Details of the affair were heard in court earlier in the case, including allegations from the Princess that she had received a threatening phone call from Sheikh Mohammed about it at the time which left her feeling "terrified."Following the ruling, a spokesperson for Sheikh Mohammed said he has always made sure his children are provided for."The court has now made its ruling on finances and he does not intend to comment further," said the spokesperson in a statement."He asks that the media respect the privacy of his children and do not intrude into their lives in the UK."The divorce settlement marks the final stage in a years-long battle between the estranged couple, during which the UK high court determined that Sheikh Mohammed used his "immense wealth, political power and international influence" in an attempt to bully and silence the 47-year-old princess.A separate ruling delivered in March 2020 concluded Sheikh Mohammed had previously organized the abduction of two of his daughters and forcibly returned them to Dubai, where he held them against their will. The Sheikh has repeatedly denied all claims raised in the case.CNN's Caroline Faraj contributed to this report.